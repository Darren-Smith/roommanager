<%- include('./head')%>
    <%- include('./header')%>
        <div class="container h-100">
            <div id='calendar-container' class="h-100">
                <div id='calendar' class="h-75"></div>
            </div>
        </div>
        <div id="calendarEvents" class="d-none">
            <%- JSON.stringify(events) %>
        </div>
        <script src="scripts/jquery-3.3.1.min.js"></script>
        <script src="scripts/popper.min.js"></script>
        <script src="scripts/bootstrap.min.js"></script>
        <script src='fullcalendar/packages/core/main.js'></script>
        <script src='fullcalendar/packages/interaction/main.js'></script>
        <script src='fullcalendar/packages/daygrid/main.js'></script>
        <script src='fullcalendar/packages/timegrid/main.js'></script>
        <script src='fullcalendar/packages/list/main.js'></script>
        <script>

            document.addEventListener('DOMContentLoaded', function () {
                var calendarEl = document.getElementById('calendar');
                var calendarEvents = document.getElementById('calendarEvents').textContent;
                var parsedEvents = JSON.parse(calendarEvents);
                var calendar = new FullCalendar.Calendar(calendarEl, {
                    plugins: ['interaction', 'dayGrid', 'timeGrid', 'list'],
                    height: 'parent',
                    header: {
                        left: 'prev,next today',
                        center: 'title',
                        right: 'dayGridMonth,timeGridWeek,timeGridDay,listWeek'
                    },
                    defaultView: 'dayGridMonth',
                    defaultDate: Date.now(),
                    navLinks: true, // can click day/week names to navigate views
                    editable: true,
                    eventLimit: true, // allow "more" link when too many events
                    events: parsedEvents

                });

                calendar.render();
            });

        </script>
        <script src="scripts/main.js"></script>

        <%- include('./footer')%>
            </body>

            </html>